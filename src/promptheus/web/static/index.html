<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Promptheus - Transform raw prompts into optimized gold through digital alchemy">
    <title>Promptheus - Alchemical Prompt Optimization</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@11.0.0/marked.min.js"></script>
</head>
<body>
    <!-- Top Navigation Bar -->
    <header class="top-bar">
        <div class="top-bar-content">
            <a href="#" class="logo">
                <span class="logo-icon">‚öó</span>
                <span class="logo-text">Promptheus</span>
            </a>
            <div class="top-bar-controls">
                <div class="provider-config-group">
                    <div class="provider-selector">
                        <span>Provider:</span>
                        <select id="provider-select">
                            <option value="">Loading...</option>
                        </select>
                    </div>
                    <div class="provider-selector">
                        <span>Model:</span>
                        <select id="model-select" disabled>
                            <option value="">Auto</option>
                        </select>
                    </div>
                    <button class="provider-status-indicator" id="provider-status-btn" title="System status" aria-label="System status">
                        <span class="status-dot status-ok"></span>
                    </button>
                </div>
                <button id="settings-btn" class="btn btn-secondary" aria-label="Open settings">
                    <span>‚öô</span>
                    <span>Settings</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="main-content">

        <!-- Workspace Container - Side by Side -->
        <div class="workspace-container">
            <!-- Prompt Input Canvas -->
            <section class="prompt-canvas" aria-label="Prompt input section">
            <div class="prompt-input-wrapper">
                <!-- Floating Toolbar for Mode and Style Controls -->
                <div class="prompt-toolbar" role="toolbar" aria-label="Prompt controls">
                    <div class="toolbar-left">
                        <div class="toolbar-item">
                            <label class="toolbar-label" for="question-mode" id="mode-label">
                                <span class="toolbar-text">Mode</span>
                                <button class="toolbar-help-icon" data-help-for="mode" aria-label="Mode help">
                                    <span>‚Ñπ</span>
                                </button>
                            </label>
                            <div class="alchemical-dropdown" id="mode-dropdown">
                                <select id="question-mode" class="toolbar-select" aria-labelledby="mode-label">
                                    <option value="auto">Auto</option>
                                    <option value="force">Always Ask</option>
                                    <option value="skip">Skip Questions</option>
                                </select>
                                <div class="alchemical-dropdown-panel">
                                    <div class="alchemical-option" data-value="auto">Auto</div>
                                    <div class="alchemical-option" data-value="force">Always Ask</div>
                                    <div class="alchemical-option" data-value="skip">Skip Questions</div>
                                </div>
                            </div>
                            <!-- Help tooltip for Mode -->
                            <div class="help-tooltip" id="mode-help-tooltip">
                                <div class="help-tooltip-header">
                                    <span>Mode Options</span>
                                    <button class="help-tooltip-close" aria-label="Close help">‚úï</button>
                                </div>
                                <div class="help-tooltip-content">
                                    <div class="help-option">
                                        <div class="help-option-name">Auto</div>
                                        <div class="help-option-description">AI intelligently detects your task type and decides whether to ask clarifying questions. Best for most users.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Always Ask</div>
                                        <div class="help-option-description">Always asks clarifying questions to ensure the best possible optimization, even for simple prompts.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Skip Questions</div>
                                        <div class="help-option-description">Optimizes immediately without any questions. Fastest option when you know what you want.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="toolbar-item">
                            <label class="toolbar-label" for="style-select" id="style-label">
                                <span class="toolbar-text">Style</span>
                                <button class="toolbar-help-icon" data-help-for="style" aria-label="Style help">
                                    <span>‚Ñπ</span>
                                </button>
                            </label>
                            <div class="alchemical-dropdown" id="style-dropdown">
                                <select id="style-select" class="toolbar-select" aria-labelledby="style-label">
                                    <option value="default">Default</option>
                                    <option value="bullets">Bullets</option>
                                    <option value="steps">Steps</option>
                                    <option value="plain">Plain</option>
                                    <option value="concise">Concise</option>
                                </select>
                                <div class="alchemical-dropdown-panel">
                                    <div class="alchemical-option" data-value="default">Default</div>
                                    <div class="alchemical-option" data-value="bullets">Bullets</div>
                                    <div class="alchemical-option" data-value="steps">Steps</div>
                                    <div class="alchemical-option" data-value="plain">Plain</div>
                                    <div class="alchemical-option" data-value="concise">Concise</div>
                                </div>
                            </div>
                            <!-- Help tooltip for Style -->
                            <div class="help-tooltip" id="style-help-tooltip">
                                <div class="help-tooltip-header">
                                    <span>Style Options</span>
                                    <button class="help-tooltip-close" aria-label="Close help">‚úï</button>
                                </div>
                                <div class="help-tooltip-content">
                                    <div class="help-option">
                                        <div class="help-option-name">Default</div>
                                        <div class="help-option-description">No specific formatting - AI decides the best structure based on your prompt content and context.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Bullets</div>
                                        <div class="help-option-description">Format the final response as concise bullet points for easy scanning and quick comprehension.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Steps</div>
                                        <div class="help-option-description">Return a numbered, step-by-step plan with clear sequential instructions for following processes.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Plain</div>
                                        <div class="help-option-description">Use natural sentences without heavy formatting or special structural elements.</div>
                                    </div>
                                    <div class="help-option">
                                        <div class="help-option-name">Concise</div>
                                        <div class="help-option-description">Be brief and to the point while preserving key details and essential information.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="toolbar-right">
                        <!-- Space for future features -->
                    </div>
                </div>

                <label for="prompt-input" class="sr-only">Enter your prompt</label>
                <textarea
                    id="prompt-input"
                    placeholder="Enter your prompt here..."
                    aria-describedby="prompt-hint"
                ></textarea>
                <span id="prompt-hint" class="sr-only">Type your prompt and press the optimize button to improve it</span>
            </div>

            <!-- Simplified Controls Area -->
            <div class="prompt-controls">
                <div class="prompt-controls-left">
                    <!-- Space for future stats or indicators -->
                </div>
                <div class="prompt-controls-right">
                    <button id="cancel-btn" class="btn btn-danger hidden" aria-label="Cancel current operation">
                        <span>‚úï</span>
                        <span>Cancel</span>
                    </button>
                    <button id="start-over-btn" class="btn btn-secondary hidden" aria-label="Start new optimization">
                        <span>‚Üª</span>
                        <span>Start Over</span>
                    </button>
                    <button id="submit-btn" class="btn btn-primary" aria-label="Optimize prompt">
                        <span>Optimize Prompt</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Output Section -->
        <section class="output-section" aria-label="Optimized prompt output">
            <div class="output-header">
                <h2 class="output-title">
                    <span>üúÉ</span>
                    <span>Optimized Prompt</span>
                </h2>
                <div class="output-actions">
                    <button id="tweak-btn" class="btn btn-secondary hidden" title="Tweak this prompt" aria-label="Tweak optimized prompt">
                        <span>üîß</span>
                        <span>Tweak</span>
                    </button>
                    <button id="copy-btn" class="btn btn-secondary hidden" title="Copy to clipboard" aria-label="Copy optimized prompt">
                        <span>üìã</span>
                        <span>Copy</span>
                    </button>
                </div>
            </div>
            <div id="output" aria-live="polite" aria-atomic="true">
                <p class="message message-info">
                    <span>üí°</span>
                    <span>Your optimized prompt will appear here</span>
                </p>
            </div>
        </section>
        </div>

        <!-- History Section -->
        <section class="history-section" aria-label="Prompt history">
            <div class="history-header">
                <h2 class="history-title">History</h2>
                <button id="clear-history-btn" class="btn btn-secondary btn-sm" title="Clear all history" aria-label="Clear history">
                    <span>üóë</span>
                    <span>Clear History</span>
                </button>
            </div>

            <div id="history-list" class="history-grid" role="list">
                <!-- History cards will be dynamically inserted here -->
            </div>

            <div class="history-pagination">
                <button
                    id="prev-page-btn"
                    class="btn btn-secondary"
                    aria-label="Previous page"
                    disabled
                >
                    <span>‚Üê</span>
                    <span>Previous</span>
                </button>

                <div class="pagination-info">
                    <span class="pagination-current" id="current-page" aria-live="polite">1 of 1</span>
                </div>

                <button
                    id="next-page-btn"
                    class="btn btn-secondary"
                    aria-label="Next page"
                    disabled
                >
                    <span>Next</span>
                    <span>‚Üí</span>
                </button>

                <div class="page-size-selector">
                    <label for="page-size-select" class="sr-only">Items per page</label>
                    <select id="page-size-select" aria-label="Items per page">
                        <option value="10">10</option>
                        <option value="20" selected>20</option>
                        <option value="50">50</option>
                    </select>
                    <span>per page</span>
                </div>
            </div>
        </section>

    </main>

    <!-- Settings Panel (Slide-out) -->
    <div id="settings-overlay" class="settings-overlay" role="dialog" aria-modal="true" aria-labelledby="settings-title">
        <aside id="settings-panel" class="settings-panel">
            <header class="settings-header">
                <div class="settings-header-content">
                    <h2 id="settings-title" class="settings-title">
                        <span>‚öô</span>
                        <span>Settings</span>
                    </h2>
                    <button id="settings-close-btn" class="btn btn-icon btn-secondary" aria-label="Close settings">
                        <span>‚úï</span>
                    </button>
                </div>
            </header>

            <div class="settings-content">
                <!-- Settings Form Container -->
                <div id="settings-form">
                    <!-- Settings form will be dynamically inserted here -->
                    <!-- Includes: General Settings, API Keys -->
                </div>

                <!-- System Status Section -->
                <section class="settings-category system-status-section">
                    <h3 class="settings-category-heading">System Status</h3>

                    <div class="system-status-actions">
                        <button id="validate-all-providers-btn" class="btn btn-secondary btn-sm">
                            <span>‚úì</span>
                            <span>Validate All Providers</span>
                        </button>
                    </div>

                    <div class="provider-status-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Provider</th>
                                    <th>Status</th>
                                    <th>Models</th>
                                    <th>Updated</th>
                                </tr>
                            </thead>
                            <tbody id="provider-status-tbody">
                                <tr>
                                    <td colspan="4" style="text-align: center; color: var(--text-tertiary); padding: var(--space-6);">
                                        Click "Validate All Providers" to check status
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="cache-management">
                        <button id="refresh-models-cache-btn" class="btn btn-secondary btn-sm">
                            <span>üîÑ</span>
                            <span>Refresh Model Cache</span>
                        </button>
                        <span class="cache-timestamp" id="cache-timestamp-settings">Last updated: --</span>
                    </div>
                </section>

                <!-- About Section -->
                <section class="settings-category about-section">
                    <h3 class="settings-category-heading">About</h3>
                    <div class="settings-item">
                        <p class="settings-description">
                            Promptheus - AI-powered prompt optimization tool
                        </p>
                    </div>
                </section>
            </div>
        </aside>
    </div>

    <script src="app.js?v=1763735543"></script>
</body>
</html>
